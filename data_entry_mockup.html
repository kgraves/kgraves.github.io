<html>
  <head>
    <script type="text/javascript" src="public/vendor/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.3/foundation.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.panzoom/2.0.6/jquery.panzoom.min.js"></script>
    <link rel="stylesheet" href="public/vendor/foundation-6.2.3/css/foundation.min.css" type="text/css">

	  <script type="text/javascript">
      $(function() {
        // init Panzoom
        var $imageContainer = $(".image-container");
        $imageContainer.panzoom({
          contain: false
        });

        // init some basic data about the form and where fields are.
        // i.e. this would be data from the form designer
        window.formData = {
          fields: {
            'first-name': {
              x: 111,
              y: 61,
              w: 444,
              h: 17
            },
            'last-name': {
              x: 111,
              y: 78,
              w: 444,
              h: 17
            },
            'birth-date': {
              x: 211,
              y: 99,
              w: 111,
              h: 17
            }
          }
        };

        // constant for zoom scale
        window.ZOOM_SCALE = 2;

        // get offset from img tag and actual image
        // var i = new Image();
        // i.src = $('.image-container')[0].src;
        // var $image = $('.image-container')[0];

        // debugger;
        // window.IMAGE_OFFSET = 
            // Math.abs($('.image-container')[0].width - $image.width) / 2;
        // window.IMAGE_OFFSET = 
            // Math.abs($('.image-container')[0].width - i.width) / 2;
        // window.IMAGE_MIDDLE = $('.image-container')[0].width / 2;

        // add click handler for form fields; zoom in on field when field has
        // focus.
        $('input.form-field').focus(function(event) {
          // figure out which field we are dealing with.
          var fieldName = this.classList[0];

          // look up field in `window.formData`
          var data = window.formData.fields[fieldName];

          // calculate where to pan.
          var xOffset = ($('.image-container').width() - data.w) / 2;
          var yOffset = ($('.image-container').height() - data.h) / 2;

          // apply zoom/pan to image based on data.
          var xPos = -data.x + xOffset;
          var yPos = -data.y + yOffset;

          // calculate zoom factor
          // calculate focal point

          $('.image-container').panzoom('pan', xPos, yPos);
          $('.image-container').panzoom('zoom', window.ZOOM_SCALE);
        });

        /**
         * Calculates the zoom factor for a given element in a container.
         */
        var calculateZoomFactor = function(elementData, containerData) {

        }

        /**
         * Calculates the center point of the elementData and returns an object
         * with x and y attributes. (e.g. { x: 250, y: 130 })
         */
        var calculateFocalPoint(elementData) {

        }

      });
    </script>
  </head>
  <body>

    <!-- navigation -->
		<ul class="menu" style="margin-bottom: 15px;">
			<li><a class="active" href="#">Registration Form</a></li>
			<li><a href="#">Heart Form</a></li>
		</ul>

		<!-- content -->
    <div class="row">
      <div class="large-6 columns" style="border: solid black 1px;">
        <img class="image-container" src="public/image/reg_form.jpg"
        alt="Registration Form" style="border: solid red 1px;">
      </div>
      <div class="data-container large-6 columns" style="border: solid black 1px;">

        <form>
          <div class="row">

						<div class="small-12 columns">
							<label>First Name
								<input class="first-name form-field" type="text" placeholder="John" required>
								<span class="form-error">
									Yo, you had better fill this out, it's required.
								</span>
							</label>
						</div>

						<div class="small-12 columns">
							<label>Last Name
								<input class="last-name form-field" type="text" placeholder="Doe" required>
								<span class="form-error">
									Yo, you had better fill this out, it's required.
								</span>
							</label>
						</div>

						<div class="small-12 columns">
							<label>Birth Date
								<input class="birth-date form-field" type="text" placeholder="01/01/1900" required>
								<span class="form-error">
									Yo, you had better fill this out, it's required.
								</span>
							</label>
							<p class="help-text" id="exampleHelpText">Here's how you use this input field!</p>
						</div>

          </div>

					<div class="row">
						<fieldset class="large-6 columns">
							<button class="button" type="submit" value="Submit">Submit</button>
							<button class="button" type="reset" value="Reset">Reset</button>
						</fieldset>
					</div>

        </form>

      </div>
    </div>

		<!-- footer -->
		<!-- <div class="fluid-container footer"> -->
		<!-- </div> -->

  </body>
</html>
